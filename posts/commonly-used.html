<!doctype html>
<html lang="en">
<title>Wes Doyle</title>
<head>
    <link href="https://fonts.googleapis.com/css?family=Noto+Serif|Roboto+Mono" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../styles.css">
</head>
<body>
<div class="wrapper">
    <nav class="header">
        <div class="navBar">
            <a href="https://wesdoyle.net" id="wes-console">wes_doyle >
                <div class="cursor-wrapper">
                    <span class="blinking-cursor">_</span>
                </div>
            </a>
            <ul>
                <li><a href="https://wesdoyle.net">Home</a></li> /
                <li><a href="https://wesdoyle.net/reading.html">Reading List</a></li> /
                <li><a href="https://wesdoyle.net/projects.html">Current Projects</a></li>
            </ul>
        </div>
    </nav>

    <hr>

    <section class="content-article">
        <main class="main">
            <h1>Index of Commonly Used Commands</h1>
            <div class="article">
                <p>Quick reference for useful day-to-day commands</p>

                <hr />

                <h2>scp</h2>
                <strong>Local => Remote</strong>
                <div class="code-block">
                    $ scp local_file.txt -i path_to_secret.pem remote_username@10.10.0.2:/remote/directory
                </div>

                <strong>Remote => Local</strong>
                <div class="code-block">
                    $ scp -i path_to_secret.pem remote_username@10.10.0.2:/remote/file.txt /local/directory
                </div>

                <strong>Remote => Remote</strong>
                <div class="code-block">
                    $ scp user1@host_1.com:/files/file.txt user2@host_2.com:/files
                </div>

                <hr />

                <h2>ssh</h2>
                <strong>Generate SSH Key</strong>
                <div class="code-block">
                    $ ssh-keygen -t rsa -b 4096 -C "wes@example.com"
                </div>

                <strong>SSH Config (macOS)</strong>
                <div class="code-block">
                    <div class="comment"># ~/.ssh/config</div>
                    <br />
                    <div class="identifier">Host *</div>
                    <div>&nbsp;&nbsp;AddKeysToAgent yes</div>
                    <div>&nbsp;&nbsp;UseKeychain yes</div>
                    <div>&nbsp;&nbsp;IdentityFile ~/.ssh/id_rsa</div>
                </div>

                <strong>
                    Add SSH private key to ssh-agent and store passphrase in keychain
                </strong>
                <div class="code-block">
                    $ ssh-add -K ~/.ssh/id_rsa
                </div>

                <strong>
                    Background SSH session with port forwarding.
                    This is useful for running remote jupyter notebooks, for example.
                </strong>
                <div class="code-block">
                    <div class="comment"># ~/.ssh/config</div>
                    <br />
                    <div class="identifier">Host foo</div>
                    <div>&nbsp;&nbsp;Hostname [public ipv4]</div>
                    <div>&nbsp;&nbsp;User [user]</div>
                    <div>&nbsp;&nbsp;IdentityFile [path_to_secret.pem]</div>

                    $ ssh -NfL 9999:localhost:8888 foo
                </div>


                <h2>psql</h2>
                <strong>useful meta-commands</strong>
                <div class="code-block">
                    $ <div class="constant">\l</div><div class="comment"> # list databases</div>
                    $ <div class="constant">\c orders</div><div class="comment"> # switch to database 'orders'</div>
                    $ <div class="constant">\dt</div><div class="comment"> # list tables</div>
                    $ <div class="constant">\dt</div><div class="comment"> # list tables</div>
                    $ <div class="constant">\conninfo</div><div class="comment"> # echo connection info</div>
                    $ <div class="constant">\des</div><div class="comment"> # list foreign servers</div>
                    $ <div class="constant">\dew</div><div class="comment"> # list foreign data wrappers</div>
                    $ <div class="constant">\?</div><div class="comment"> # get meta-command help</div>
                </div>

                <strong>connection params</strong>
                <div class="code-block">
                    $ <div class="constant">psql -h [host] -p [port] -d [db] -U [user]</div>
                </div>
            </div>
        </main>
    </section>
</div>
</body>
</html>

